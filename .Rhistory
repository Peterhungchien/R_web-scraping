library(rvest)
library(tidyverse)
url='http://tjj.zj.gov.cn'
page=read_html(url)
View(page)
page
news=page %>%
html_nodes('.list_new1 .text-tag') %>%
html_text()
news
url='http://tjj.zj.gov.cn'
page=read_html(url)
news=page %>%
html_nodes('.list_new1 .text-tag') %>%
html_text()
page
news=page %>%
html_nodes('#yw_2 a') %>%
html_text()
news
news=page %>%
html_nodes('.list_new1 .text-tag') %>%
html_text()
news=page %>%
html_nodes('#iframe') %>%
html_text()
library(rvest)
library(tidyverse)
url='https://zjjcmspublic.oss-cn-hangzhou-zwynet-d01-a.internet.cloud.zj.gov.cn/jcms_files/jcms1/web3077/site/flash/tjj/Reports1/2020-%E7%BB%9F%E8%AE%A1%E5%B9%B4%E9%89%B4/indexcn.html'
page=read_html(url)
news=page %>%
html_nodes('#iframe') %>%
html_text()
news=page %>%
html_nodes('#iframe') %>%
html_table()
View(news)
View(news[[1]])
news
movie_title=page %>%
html_nodes('.title') %>%
html_table()
library(rvest)
library(tidyverse)
url='https://movie.douban.com/chart'
page=read_html(url)
movie_title=page %>%
html_nodes('.title') %>%
html_table()
View(movie_title)
url='https://movie.douban.com/top250'
page=read_html(url)
movie_title=page %>%
html_nodes('.title') %>%
html_table()
View(movie_title)
movie_title=page %>%
html_nodes('.title') %>%
html_text()
movie_title
movie_title=page %>%
html_nodes('.title:nth-child(1)') %>%
html_text()
movie_title
staff=page %>%
html_nodes('p:nth-child(1)') %>%
html_text()
staff
staff[2:26]
staff=staff[2:26]
staff
staff %>%
a
View(staff)
ratings=page %>%
html_nodes('.rating_num') %>%
html_text()
as.numeric(ratings)
ratings <- as.numeric(ratings)
info <- data.frame(movie_title,staff,ratings,stringsAsFactors = FALSE)
View(info)
info %>%
write.csv('info.csv')
reticulate::repl_python()
import numpy as np
import pandas as pd
import re
data=pd.read_csv("info.csv")
help(pd.read_csv())
help(pd.read_csv)
data=pd.read_csv("info.csv",encoding="utf-8")
quit
library(xlsx)
View(info)
info %>%
write_excel_csv('info.xlsx')
info %>%
write_excel_csv('info.csv')
reticulate::repl_python()
data=pd.read_csv("info.csv",encoding="utf-8")
View(data)
View(data)
data.staff.apply(strip)
data.staff.apply(strip())
help(pd.DataFrame.apply)
data["staff"].apply(strip)
"a ".strip()
data["staff"].apply(lambda x:x.strip())
data["staff"].apply(lambda x:x.strip().split()[1])
data['staff']=data["staff"].apply(lambda x:x.strip().split()[1])
View(data)
data=data.rename({"staff":"director"})
View(data)
View(data)
data.to_excel("info.xlsx")
quit
library(rvest)
library(tidyverse)
url='https://movie.douban.com/top250'
page=read_html(url)
movie_title=page %>%
html_nodes('.title:nth-child(1)') %>%
html_text()
staff=page %>%
html_nodes('p:nth-child(1)') %>%
html_text()
staff=staff[2:26]
ratings=page %>%
html_nodes('.rating_num') %>%
html_text()
ratings <- as.numeric(ratings)
staff
page %>%
html_nodes('.title:nth-child(1)')
page %>%
html_nodes('.hd')
page %>%
html_nodes('.hd')[1]
page %>%
html_nodes('.hd') %>%
html_attr("href")
page %>%
html_nodes('.hd')
page %>%
html_nodes('.hd') %>%
html_attr("href")
source("D:/rproject/R_web-scraping/test.R", echo=TRUE)
page %>%
html_nodes('.hd') %>%
html_attr("href") %>% paste()
page %>%
html_nodes('.hd') %>%
html_attr("href")
library(rvest)
library(tidyverse)
page %>%
html_nodes('.hd')
url='https://movie.douban.com/top250'
page=read_html(url)
page %>%
html_nodes('.hd')
t <- page %>%
html_nodes(".hd")
View(t)
t
movie_title=page %>%
html_nodes('.title:nth-child(1)') %>%
html_text()
page %>%
html_nodes('.hd')
page %>%
html_nodes('.hd') %>%
html_attr("href")
page %>%
html_nodes('.hd') %>%
html_attr(href)
page %>%
html_nodes('.hd') %>%
html_attr("class")
page %>%
html_nodes('.hd') %>%
html_attr("href")
page %>%
html_nodes('.hd') %>%
html_attr("href") %>% html_text()
page %>%
html_nodes('.hd') %>%
html_attr("href")
page %>%
html_nodes('.hd') %>%
html_text()
page %>%
html_nodes('.hd') %>%
html_attrs("href")
page %>%
html_nodes('.hd') %>%
html_attrs("href")
page %>%
html_nodes('.hd') %>%
html_attrs(href)
page %>%
html_nodes('.hd') %>%
html_attrs()
page %>%
html_nodes('.hd')
html_nodes(page,'.hd')[1]
t <- html_nodes(page,'.hd')[1]
View(t)
xml_child(t[[1]], 1)
print(t)
library(rvest)
library(tidyverse)
url='https://movie.douban.com/top250'
page=read_html(url)
page$node
page %>%
html_nodes('.hd')
movie_links <- page %>%
html_nodes('.hd')
movie_links
movie_links[1]
as.character(movie_links[1])
library(readxl)
GPA <- read_excel("D:/Pyproject/test/GPA.xlsx")
View(GPA)
ggplot(data=GPA,aes(x=GPA))+
geom_histogram()+
facet_wrap(~GPA)
library(rvest)
library(tidyverse)
ggplot(data=GPA,aes(x=GPA))+
geom_histogram()+
facet_wrap(~GPA)
ggplot(data=GPA,aes(x=GPA))+
geom_histogram()+
facet_wrap(~GPA)
ggplot(data=GPA,aes(x=GPA))+
geom_histogram()+
facet_wrap(~major)
library(readxl)
GPA <- read_excel("D:/Pyproject/test/GPA.xlsx")
View(GPA)
library(rvest)
library(tidyverse)
summary(GPA)
library(skimr)
skim(GPA)
devtools::install_github("swirldev/swirl", ref = "dev")
library(swirl)
swirl()
install.packages("Matrix")
install.packages(c("broom", "carData", "class", "cli", "DBI", "dtplyr", "esquisse", "fansi", "foreign", "gert", "httpuv", "MASS", "moderndive", "nlme", "nnet", "pkgbuild", "Rcpp", "rddtools", "renv", "repr", "reticulate", "shinyWidgets", "spatial", "tinytex"))
install.packages(c("broom", "carData", "class", "cli", "DBI", "dtplyr", "esquisse", "fansi", "foreign", "gert", "httpuv", "MASS", "moderndive", "nlme", "nnet", "pkgbuild", "Rcpp", "rddtools", "renv", "repr", "reticulate", "shinyWidgets", "spatial", "tinytex"))
install.packages(c("broom", "carData", "class", "cli", "DBI", "dtplyr", "esquisse", "fansi", "foreign", "gert", "httpuv", "MASS", "moderndive", "nlme", "nnet", "pkgbuild", "Rcpp", "rddtools", "renv", "repr", "reticulate", "shinyWidgets", "spatial", "tinytex"))
install.packages(c("broom", "carData", "class", "cli", "DBI", "dtplyr", "esquisse", "fansi", "foreign", "gert", "httpuv", "MASS", "moderndive", "nlme", "nnet", "pkgbuild", "Rcpp", "rddtools", "renv", "repr", "reticulate", "shinyWidgets", "spatial", "tinytex"))
source("D:/rproject/R_web-scraping/test.R")
demo()
demo()
help.start()
matrix(c(1,2,3,4),nrow=2)
x <- matrix(c(1,2,3,4),nrow=2)
View(x)
y <- matrix(c(1,2,3,4),nrow=2)
x+y
x*y
x@y
x.*y
x^y
t(x)
View(x)
library(rvest)
library(tidyverse)
url <- "https://movie.douban.com/top250"
page <- read_html(url)
page
page$node
page$doc
source("D:/rproject/R_web-scraping/test.R", echo=TRUE)
page
page[2]
html <- minimal_html("
<h1>This is a heading</h1>
<p id='first'>This is a paragraph</p>
<p class='important'>This is an important paragraph</p>
")
html %>% html_element("h1")
html %>% html_elements("h1")
html %>% html_elements("p")
html %>% html_elements(".important")
html %>% html_elements(".important")
%>% html_text2()
html %>% html_elements(".important")
%>% html_text2()
html %>%
html_elements(".important") %>%
html_text2()
html <- minimal_html("
<ol>
<li>apple &amp; pear</li>
<li>banana</li>
<li>pineapple</li>
</ol>
")
html %>%
html_elements("li") %>%
html_text2()
html %>%
html_elements("li")
html %>%
html_elements("li") %>%
html_text2() %>%
typeof()
links <- page %>%
html_elements(".hd") %>%
html_attrs("href")
links <- page %>%
html_elements(".hd") %>%
html_attr("href")
links
page %>%
html_elements(".hd") %>%
html_elements("a")
page %>%
html_elements(".hd") %>%
html_elements("a") %>%
html_attr("href")
html %>% html_elements("table") %>% html_table()
html %>% html_elements("table")
html <- minimal_html("
<table>
<tr>
<th>x</th>
<th>y</th>
</tr>
<tr>
<td>1.5</td>
<td>2.7</td>
</tr>
<tr>
<td>4.9</td>
<td>1.3</td>
</tr>
<tr>
<td>7.2</td>
<td>8.1</td>
</tr>
</table>
")
html %>% html_elements("table") %>% html_table()
html <- minimal_html("
<ul>
<li><b>C-3PO</b> is a <i>droid</i> that weighs <span class='weight'>167 kg</span></li>
<li><b>R2-D2</b> is a <i>droid</i> that weighs <span class='weight'>96 kg</span></li>
<li><b>Yoda</b> weighs <span class='weight'>66 kg</span></li>
<li><b>R4-P17</b> is a <i>droid</i></li>
</ul>
")
characters <- html %>% html_elements("li")
characters
characters %>% html_element("b")
data.frame(
name = characters %>% html_element("b") %>% html_text2(),
species = characters %>% html_element("i") %>% html_text2(),
weight = characters %>% html_element(".weight") %>% html_text2()
)
d <- data.frame(
name = characters %>% html_element("b") %>% html_text2(),
species = characters %>% html_element("i") %>% html_text2(),
weight = characters %>% html_element(".weight") %>% html_text2()
)
d
tibble(d)
data()
USPersonalExpenditure
anova(USPersonalExpenditure)
matrix(USPersonalExpenditure)
USPersonalExpenditure
matrix(USPersonalExpenditure,nrow=5)
anova(matrix(USPersonalExpenditure,nrow=5))
reticulate::repl_python()
try:
South Federal University
